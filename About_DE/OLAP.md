OLAP (OnLine Analytical Processing)

OLAP의 최종 목적은 대용량 데이터의 다차원 분석
(+ OnLine은 인터넷 상의 개념이 아닌 interactive, 즉각적인 피드백, 반응형의 개념과 연결된다고 볼 수 있음.)

데이터 큐브 형태라는 핵심 아이디어를 가지고 있음.

이 큐브는 3차원 이상의 개념으로 논리적 형태의 개념, 물리적 형태의 개념인지에 따라 OLAP의 형태가 나뉨. ( MOLAP(다차원), ROLAP(관계형), HOLAP(하이브리드)로 나눌 수 있음)

MOLAP

MOLAP는 물리적 큐브의 형태를 구현한 것 -> 각 테이블이 2차원의 면이 됨
면이 누적되어 물리적 큐브 형태로 나타나는 것. 즉 (x,y,z 축을 가진 3차원 형태로 나타나게 됨.)

3차원 좌표를 통해서 각 셀들에 접근할 수 있으며 각 셀 내은 측정값을 가짐.

결국 MOLAP는 (x,y,z) 좌표를 통해 각 셀의 측정값에 접근함으로써 원하는 방식의 데이터 분석이 가능하도록 함.
이미 물리적 큐브 구현이 되어 있으므로 이미 계산된 값에 접근할 뿐 -> 접근 속도, 성능이 탁월함.

다만 큐브의 크기가 기하급수적으로 커질 수 있음 (Data Explosion)
큐브의 크기는 각 축이 가지는 값들에 따라 카테시안곱의 크기를 가짐 (가장 핵심적인 문제, 이로 인해 다른 단점 파생)

ex.
x : 12개월, y : 20, z : 50개의 주 = (12 x 20 x 50)
따라서 데이터의 크기가 커질 수록 사용이 어려워짐.

결국 3차원의 큐브를 만드는 과정에서 중간 중간 결측치, Null이 들어가는 공간들이 생길 수 있음.
비효율성의 증가 (+Sparsity Problem)

Q.
x,y,z 좌표에 해당하는 한 셀에 하나의 측정값이 들어간다고 한다면 n개의 측정값을 위해서는 n개의 큐브가 필요한건가?

A.
ㄴㄴ 한 셀 = 한 측정값의 차원에서 각 셀이 하나의 튜플로서 여러 개의 측정값을 가진다고 확장하면 됨
결국 x,y,z축 좌표를 통해 해당 셀이 가지고 있는 튜플(여러 측정값)에 접근할 수 있게 되기에 n개가 아닌 1개의 큐브로도 구현이 가능함.

Q.
그럼 결국 x,y,z 축을 가진 3차원 큐브만 가능한건가? 더 많은 축을 통한 데이터 접근은 안되는거?

A.
4,5차원과 같은 하이퍼큐브의 형태도 가능함 (복잡하지만)

ROLAP

RDB와 SQL을 활용한 OLAP 기법. 쿼리 작성을 통해 필요한 값 도출

물리적 큐브 형태를 가지지 않고 스타 스키마 (Fact Table과 Dimension Table) 구조를 사용.

쿼리를 통해 필요한 데이터를 계산하는 방식이므로 MOLAP에 비해 속도가 느림.

(+하지만 동시에 쿼리를 통해 계산하는 방식이므로 확장성과 유연성 측면에서 장점을 가짐.)

Q.
개념적 큐브 형태를 사용한다는 건 뭐지? OLAP의 핵심 아이디어는 큐브인데 MOLAP에만 해당되는건가?

A.
ROLAP는 View와 같은 형태로 사용자에게 측정값을 보여줌으로써 개념적 큐브의 형태로 작동함.
쿼리 작성을 통해 RDB에서 해당되는 값을 가져옴.

Q.
그럼 걍 RDB + SQL 아님? 이게 굳이 ROLAP로 나눠서 구분하는 이유가 있는거?

A.
기본적인 SQL 사용과는 핵심적인 목표에서 차이가 있음.

RDB + SQL 사용의 목표는 결국 RDB 내 데이터에 대한 CRUD임.
CRUD의 성능이 가장 중요한 문제임.

반면에 ROLAP의 목표는 RDB의 데이터 내에서 필요한 측정값을 얻을 수 있는 분석 쿼리의 최적화임.
(+ RDB의 구조와 달리 ROLAP는 스타 스키마를 활용함. 핵심적인 차이)

\+ 부족한 내용

대표적인 OLAP 연산 (Operations)

Slice: 큐브의 특정 한 면을 잘라내어 보는 것 (예: '지역' 차원에서 '서울'만 선택)

Dice: 여러 차원의 특정 멤버들을 선택하여 작은 큐브를 만드는 것 (예: '서울' 지역의 '스마트폰' 제품군에 대한 데이터만 선택)

Drill-down/Roll-up: 데이터의 계층을 따라 더 상세하게 보거나(연도→분기→월), 더 넓은 범위로 요약해서 보는 것(월→분기→연도)

Pivot: 큐브의 축(차원)을 바꾸어 데이터를 다른 관점에서 보는 것

HOLAP

자주 사용하는 요약/집계 데이터(Aggregations)는 MOLAP 큐브에 저장하여 빠른 응답 속도를 보장

세부적인 원본 데이터(Detailed Data)는 ROLAP 테이블에 그대로 두어 뛰어난 확장성과 유연성을 확보하는 방식

사용자가 상위 레벨의 요약 데이터를 조회할 때는 MOLAP 큐브에서, 더 깊은 수준의 상세 데이터로 파고들 때(Drill-through)는 ROLAP 테이블에서 데이터를 가져옴
